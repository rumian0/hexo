var coverColor=function(){var e=null==(e=document.getElementById("post-cover"))?void 0:e.src;e?localColor(e):setDefaultThemeColors()};function setDefaultThemeColors(){document.documentElement.style.setProperty("--efu-main","var(--efu-theme)"),document.documentElement.style.setProperty("--efu-main-op","var(--efu-theme-op)"),document.documentElement.style.setProperty("--efu-main-op-deep","var(--efu-theme-op-deep)"),document.documentElement.style.setProperty("--efu-main-none","var(--efu-theme-none)"),initThemeColor()}var localColor=function(e){var t=new Image;t.crossOrigin="Anonymous",t.onload=function(){return setThemeColors(calculateColor(t))},t.onerror=function(){return console.error("Image Error")},t.src=e},calculateColor=function(e){var t=document.createElement("canvas").getContext("2d");t.drawImage(e,0,0);t=calculateRGB(t.getImageData(0,0,e.width,e.height).data),e=rgbToHex(t.r,t.g,t.b);return"light"===getContrastYIQ(e)?LightenDarkenColor(e,-50):LightenDarkenColor(e,20)};function calculateRGB(e){for(var t=0,n=0,o=0,r=0;r<e.length;r+=20)t+=e[r],n+=e[r+1],o+=e[r+2];return{r:t=Math.floor(t/(e.length/4/5)),g:n=Math.floor(n/(e.length/4/5)),b:o=Math.floor(o/(e.length/4/5))}}function rgbToHex(e,t,n){return"#"+[e,t,n].map(function(e){return e.toString(16).padStart(2,"0")}).join("")}function LightenDarkenColor(e,t){var n=!1,e=("#"===e[0]&&(e=e.slice(1),n=!0),parseInt(e,16)),o=Math.min(255,Math.max(0,(e>>16)+2*t)),r=Math.min(255,Math.max(0,(e>>8&255)+2*t)),e=Math.min(255,Math.max(0,(255&e)+2*t));return"".concat(n?"#":"").concat((e|r<<8|o<<16).toString(16).padStart(6,"0"))}function getContrastYIQ(e){e=colorRgb(e).match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),e=299*e[1]+587*e[2]+114*e[3];return.5<=(e/=255e3)?"light":"dark"}function colorRgb(e){var t,n;return e&&"string"==typeof e?(t=e.toLowerCase())&&(/^#([0-9a-fA-f]{3})$/.test(t)||/^#([0-9a-fA-f]{6})$/.test(t))?(n=(4===t.length?t.replace(/^#(.)/g,"#$1$1"):t).slice(1).match(/.{2}/g).map(function(e){return parseInt(e,16)}),"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")")):t:e}function setThemeColors(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;if(e){if(document.documentElement.style.setProperty("--efu-main",e),document.documentElement.style.setProperty("--efu-main-op",e+"23"),document.documentElement.style.setProperty("--efu-main-op-deep",e+"dd"),document.documentElement.style.setProperty("--efu-main-none",e+"00"),t&&n&&o&&Math.round((299*parseInt(t)+587*parseInt(n)+114*parseInt(o))/1e3)<125){for(var r=document.getElementsByClassName("card-content"),a=0;a<r.length;a++)r[a].style.setProperty("--efu-card-bg","var(--efu-white)");for(var l=document.getElementsByClassName("author-info__sayhi"),m=0;m<l.length;m++)l[m].style.setProperty("background","var(--efu-white-op)"),l[m].style.setProperty("color","var(--efu-white)");e=LightenDarkenColor(e,50),document.documentElement.style.setProperty("--efu-main",e),document.documentElement.style.setProperty("--efu-main-op",e+"23"),document.documentElement.style.setProperty("--efu-main-op-deep",e+"dd"),document.documentElement.style.setProperty("--efu-main-none",e+"00")}document.getElementById("coverdiv").classList.add("loaded")}else document.documentElement.style.setProperty("--efu-main","var(--efu-theme)"),document.documentElement.style.setProperty("--efu-main-op","var(--efu-theme-op)"),document.documentElement.style.setProperty("--efu-main-op-deep","var(--efu-theme-op-deep)"),document.documentElement.style.setProperty("--efu-main-none","var(--efu-theme-none)");initThemeColor()}