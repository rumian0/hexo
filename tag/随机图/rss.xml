<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>茗辰原 • Posts by &#34;随机图&#34; tag</title>
        <link>https://mingcy.cn</link>
        <description>茶香四溢,编程世界.</description>
        <language>zh-CN</language>
        <pubDate>Sat, 26 Oct 2024 12:00:00 +0800</pubDate>
        <lastBuildDate>Sat, 26 Oct 2024 12:00:00 +0800</lastBuildDate>
        <category>电脑软件</category>
        <category>123网盘</category>
        <category>工具</category>
        <category>C++</category>
        <category>编程语言</category>
        <category>ChatGPT</category>
        <category>Openai</category>
        <category>建站</category>
        <category>网站建站</category>
        <category>计算机</category>
        <category>安卓应用</category>
        <category>广告</category>
        <category>塔罗牌</category>
        <category>网页精选</category>
        <category>Ai</category>
        <category>文字语音</category>
        <category>安卓软件</category>
        <category>音乐</category>
        <category>实用推荐</category>
        <category>Cloudflare</category>
        <category>部署</category>
        <category>分享</category>
        <category>班级</category>
        <category>实验</category>
        <category>心理</category>
        <category>锻炼</category>
        <category>生活</category>
        <category>精选网站</category>
        <category>app,</category>
        <category>系统优化</category>
        <category>hexo</category>
        <category>技术分享</category>
        <category>实用</category>
        <category>app</category>
        <category>科幻科普</category>
        <category>推荐</category>
        <category>记录</category>
        <category>亲情</category>
        <category>妈妈</category>
        <category>百度网盘</category>
        <category>激活</category>
        <category>教程</category>
        <category>QQ空间</category>
        <category>开源</category>
        <category>works</category>
        <category>壁纸</category>
        <category>随机图</category>
        <category>影视</category>
        <category>指令</category>
        <category>吾爱破解</category>
        <category>调查</category>
        <category>人物</category>
        <category>积累</category>
        <item>
            <guid isPermalink="true">https://mingcy.cn/2024/10/26/suijip/</guid>
            <title>使用works制作随机图!</title>
            <link>https://mingcy.cn/2024/10/26/suijip/</link>
            <category>Cloudflare</category>
            <category>works</category>
            <category>壁纸</category>
            <category>随机图</category>
            <pubDate>Sat, 26 Oct 2024 12:00:00 +0800</pubDate>
            <description><![CDATA[ &lt;p&gt;随机图的轮子其实网上有不少了，但基本都需要一台服务器，或者用别人提供的服务。&lt;/p&gt;
&lt;p&gt;但其实托管图片获取直链还是比较简单的，所以想着用 Cloudflare Workers 在直链中随机选一个，来搭建一个私人的随机图片服务。&lt;/p&gt;
&lt;h2 id=&#34;你需要&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#你需要&#34;&gt;#&lt;/a&gt; 你需要&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;一个 Cloudflare 账号&lt;/li&gt;
&lt;li&gt;一堆图片直链&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;图片直链&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#图片直链&#34;&gt;#&lt;/a&gt; 图片直链&lt;/h2&gt;
&lt;p&gt;不少图床都提供直链服务，比如 &lt;a href=&#34;https://sm.ms/&#34;&gt;sm.ms&lt;/a&gt;（免费版单文件上限 5MB，速度很快），或者 &lt;a href=&#34;https://img.vim-cn.com/&#34;&gt;img.vim-cn.com&lt;/a&gt;（单文件上限 50MB，国内速度一般）。&lt;/p&gt;
&lt;p&gt;或者，如果你对这些公共的服务不太放心的话，一个 GitHub Repo 也是不错的选择。&lt;/p&gt;
&lt;p&gt;总之，只需要一个直链，方法很多，自己灵活选择。&lt;/p&gt;
&lt;h2 id=&#34;部署-workers&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#部署-workers&#34;&gt;#&lt;/a&gt; 部署 Workers&lt;/h2&gt;
&lt;p&gt;方法不多说，网上一大堆，下面直接贴代码。&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;addEventListener(&#39;fetch&#39;, event =&amp;gt; &amp;#123;
    event.respondWith(handleRequest(event.request))
&amp;#125;)

async function handleRequest(request) &amp;#123;

	var background_urls = [
	&#39;https://w.wallhaven.cc/full/ey/wallhaven-eymzjk.jpg&#39;,
	&#39;https://w.wallhaven.cc/full/j8/wallhaven-j8rk95.png&#39;
	]
	var index = Math.floor((Math.random()*background_urls.length));
	res = await fetch(background_urls[index])
    return new Response(res.body, &amp;#123;
        headers: &amp;#123; &#39;content-type&#39;: &#39;image/jpeg&#39; &amp;#125;,
    &amp;#125;)
&amp;#125;

JAVASCRIPT
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;background_urls&lt;/code&gt;  是一个保存直链的数组，将所有你想随机的图片加入进去即可。&lt;/p&gt;
&lt;p&gt;P.S. 没有学过 Javascript，临时拼凑而成，希望有大佬可以优化地更好。&lt;/p&gt;
&lt;h1 id=&#34;我的随机图&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#我的随机图&#34;&gt;#&lt;/a&gt; 我的随机图:&lt;/h1&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; data-src=&#34;https://webp.liyy.us.kg/&#34; alt=&#34;网址https://webp.liyy.us.kg/&#34;&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
